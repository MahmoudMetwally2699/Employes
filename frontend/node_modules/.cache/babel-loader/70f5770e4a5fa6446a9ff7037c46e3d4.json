{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Mahmoud\\\\Downloads\\\\Walk-in-System-main\\\\Walk-in-System-main\\\\frontend\\\\src\\\\component\\\\Applications.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { Button, Chip, Grid, IconButton, InputAdornment, makeStyles, Paper, TextField, Typography, Modal, Slider, FormControlLabel, FormGroup, MenuItem, Checkbox } from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport axios from \"axios\";\nimport { SetPopupContext } from \"../App\";\nimport apiList from \"../lib/apiList\";\nconst useStyles = makeStyles(theme => ({\n  body: {\n    height: \"inherit\"\n  },\n  statusBlock: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\"\n  },\n  jobTileOuter: {\n    padding: \"30px\",\n    margin: \"20px 0\",\n    boxSizing: \"border-box\",\n    width: \"100%\"\n  },\n  popupDialog: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n}));\n\nconst ApplicationTile = props => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    application\n  } = props;\n  const setPopup = useContext(SetPopupContext);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(application.job.rating);\n  const appliedOn = new Date(application.dateOfApplication);\n  const joinedOn = new Date(application.dateOfJoining);\n\n  const fetchRating = () => {\n    axios.get(`${apiList.rating}?id=${application.job.jid}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(response => {\n      setRating(response.data.rating);\n      console.log(response.data);\n    }).catch(err => {\n      // console.log(err.response);\n      console.log(err.response.data);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Error\"\n      });\n    });\n  };\n\n  const changeRating = () => {\n    axios.put(apiList.rating, {\n      rating: rating,\n      jobId: application.job.jid\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      setPopup({\n        open: true,\n        severity: \"success\",\n        message: \"Rating updated successfully\"\n      });\n      fetchRating();\n      setOpen(false);\n    }).catch(err => {\n      // console.log(err.response);\n      console.log(err);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: err.response.data.message\n      });\n      fetchRating();\n      setOpen(false);\n    });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const colorSet = {\n    applied: \"#3454D1\",\n    shortlisted: \"#DC851F\",\n    accepted: \"#09BC8A\",\n    rejected: \"#D1345B\",\n    deleted: \"#B49A67\",\n    cancelled: \"#FF8484\",\n    finished: \"#4EA5D9\"\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: classes.jobTileOuter,\n    elevation: 3,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        xs: 9,\n        spacing: 1,\n        direction: \"column\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: application.job.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Posted By: \", application.recruiter.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Role : \", application.job.jobType]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Salary : \\u20B9 \", application.job.salary, \" per month\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Duration :\", \" \", application.job.duration !== 0 ? `${application.job.duration} month` : `Flexible`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: application.job.skillsets.map(skill => /*#__PURE__*/_jsxDEV(Chip, {\n            label: skill,\n            style: {\n              marginRight: \"2px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Applied On: \", appliedOn.toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), application.status === \"accepted\" || application.status === \"finished\" ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: [\"Joined On: \", joinedOn.toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        direction: \"column\",\n        xs: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: true,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.statusBlock,\n            style: {\n              background: colorSet[application.status],\n              color: \"#ffffff\"\n            },\n            children: application.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), application.status === \"accepted\" || application.status === \"finished\" ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.statusBlock,\n            onClick: () => {\n              fetchRating();\n              setOpen(true);\n            },\n            children: \"Rate Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      className: classes.popupDialog,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        style: {\n          padding: \"20px\",\n          outline: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          minWidth: \"30%\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Rating, {\n          name: \"simple-controlled\",\n          style: {\n            marginBottom: \"30px\"\n          },\n          value: rating === -1 ? null : rating,\n          onChange: (event, newValue) => {\n            setRating(newValue);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            padding: \"10px 50px\"\n          },\n          onClick: () => changeRating(),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ApplicationTile, \"fJHX3B/OMLFiBVpKDKZZqFMoQjo=\", false, function () {\n  return [useStyles];\n});\n\n_c = ApplicationTile;\n\nconst Applications = props => {\n  _s2();\n\n  const setPopup = useContext(SetPopupContext);\n  const [applications, setApplications] = useState([]);\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    axios.get(apiList.applications, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      setApplications(response.data);\n    }).catch(err => {\n      console.log(err.response);\n      console.log(err.response.data);\n      setPopup({\n        open: true,\n        severity: \"error\",\n        message: \"Error\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    item: true,\n    direction: \"column\",\n    alignItems: \"center\",\n    style: {\n      padding: \"30px\",\n      minHeight: \"93vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h2\",\n        children: \"Applications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      item: true,\n      xs: true,\n      direction: \"column\",\n      style: {\n        width: \"100%\"\n      },\n      alignItems: \"stretch\",\n      justify: \"center\",\n      children: applications.length > 0 ? applications.map(obj => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(ApplicationTile, {\n          application: obj\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"No Applications Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Applications, \"1eYVOO4O4g6UGYv3BnsZywYWTrs=\");\n\n_c2 = Applications;\nexport default Applications;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ApplicationTile\");\n$RefreshReg$(_c2, \"Applications\");","map":{"version":3,"sources":["C:/Users/Mahmoud/Downloads/Walk-in-System-main/Walk-in-System-main/frontend/src/component/Applications.js"],"names":["useState","useEffect","useContext","Button","Chip","Grid","IconButton","InputAdornment","makeStyles","Paper","TextField","Typography","Modal","Slider","FormControlLabel","FormGroup","MenuItem","Checkbox","Rating","axios","SetPopupContext","apiList","useStyles","theme","body","height","statusBlock","width","display","alignItems","justifyContent","textTransform","jobTileOuter","padding","margin","boxSizing","popupDialog","ApplicationTile","props","classes","application","setPopup","open","setOpen","rating","setRating","job","appliedOn","Date","dateOfApplication","joinedOn","dateOfJoining","fetchRating","get","jid","headers","Authorization","localStorage","getItem","then","response","data","console","log","catch","err","severity","message","changeRating","put","jobId","handleClose","colorSet","applied","shortlisted","accepted","rejected","deleted","cancelled","finished","title","recruiter","name","jobType","salary","duration","skillsets","map","skill","marginRight","toLocaleDateString","status","background","color","outline","flexDirection","minWidth","marginBottom","event","newValue","Applications","applications","setApplications","getData","minHeight","length","obj","textAlign"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport {\n  Button,\n  Chip,\n  Grid,\n  IconButton,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  TextField,\n  Typography,\n  Modal,\n  Slider,\n  FormControlLabel,\n  FormGroup,\n  MenuItem,\n  Checkbox,\n} from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport axios from \"axios\";\n\nimport { SetPopupContext } from \"../App\";\n\nimport apiList from \"../lib/apiList\";\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    height: \"inherit\",\n  },\n  statusBlock: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n  },\n  jobTileOuter: {\n    padding: \"30px\",\n    margin: \"20px 0\",\n    boxSizing: \"border-box\",\n    width: \"100%\",\n  },\n  popupDialog: {\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst ApplicationTile = (props) => {\n  const classes = useStyles();\n  const { application } = props;\n  const setPopup = useContext(SetPopupContext);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(application.job.rating);\n\n  const appliedOn = new Date(application.dateOfApplication);\n  const joinedOn = new Date(application.dateOfJoining);\n\n  const fetchRating = () => {\n    axios\n      .get(`${apiList.rating}?id=${application.job.jid}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        setRating(response.data.rating);\n\n        console.log(response.data);\n        \n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err.response.data);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: \"Error\",\n        });\n      });\n  };\n\n  const changeRating = () => {\n    axios\n      .put(\n        apiList.rating,\n        { rating: rating, jobId: application.job.jid },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response.data);\n        setPopup({\n          open: true,\n          severity: \"success\",\n          message: \"Rating updated successfully\",\n        });\n        fetchRating();\n        setOpen(false);\n      })\n      .catch((err) => {\n        // console.log(err.response);\n        console.log(err);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: err.response.data.message,\n        });\n        fetchRating();\n        setOpen(false);\n      });\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const colorSet = {\n    applied: \"#3454D1\",\n    shortlisted: \"#DC851F\",\n    accepted: \"#09BC8A\",\n    rejected: \"#D1345B\",\n    deleted: \"#B49A67\",\n    cancelled: \"#FF8484\",\n    finished: \"#4EA5D9\",\n  };\n\n  return (\n    <Paper className={classes.jobTileOuter} elevation={3}>\n      <Grid container>\n        <Grid container item xs={9} spacing={1} direction=\"column\">\n          <Grid item>\n            <Typography variant=\"h5\">{application.job.title}</Typography>\n          </Grid>\n          <Grid item>Posted By: {application.recruiter.name}</Grid>\n          <Grid item>Role : {application.job.jobType}</Grid>\n          <Grid item>Salary : &#8377; {application.job.salary} per month</Grid>\n          <Grid item>\n            Duration :{\" \"}\n            {application.job.duration !== 0\n              ? `${application.job.duration} month`\n              : `Flexible`}\n          </Grid>\n          <Grid item>\n            {application.job.skillsets.map((skill) => (\n              <Chip label={skill} style={{ marginRight: \"2px\" }} />\n            ))}\n          </Grid>\n          <Grid item>Applied On: {appliedOn.toLocaleDateString()}</Grid>\n          {application.status === \"accepted\" ||\n          application.status === \"finished\" ? (\n            <Grid item>Joined On: {joinedOn.toLocaleDateString()}</Grid>\n          ) : null}\n        </Grid>\n        <Grid item container direction=\"column\" xs={3}>\n          <Grid item xs>\n            <Paper\n              className={classes.statusBlock}\n              style={{\n                background: colorSet[application.status],\n                color: \"#ffffff\",\n              }}\n            >\n              {application.status}\n            </Paper>\n          </Grid>\n          {application.status === \"accepted\" ||\n          application.status === \"finished\" ? (\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.statusBlock}\n                onClick={() => {\n                  fetchRating();\n                  setOpen(true);\n                }}\n              >\n                Rate Job\n              </Button>\n            </Grid>\n          ) : null}\n        </Grid>\n      </Grid>\n      <Modal open={open} onClose={handleClose} className={classes.popupDialog}>\n        <Paper\n          style={{\n            padding: \"20px\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            minWidth: \"30%\",\n            alignItems: \"center\",\n          }}\n        >\n          <Rating\n            name=\"simple-controlled\"\n            style={{ marginBottom: \"30px\" }}\n            value={rating === -1 ? null : rating}\n            onChange={(event, newValue) => {\n              setRating(newValue);\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ padding: \"10px 50px\" }}\n            onClick={() => changeRating()}\n          >\n            Submit\n          </Button>\n        </Paper>\n      </Modal>\n    </Paper>\n  );\n};\n\nconst Applications = (props) => {\n  const setPopup = useContext(SetPopupContext);\n  const [applications, setApplications] = useState([]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    axios\n      .get(apiList.applications, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setApplications(response.data);\n      })\n      .catch((err) => {\n         console.log(err.response);\n        console.log(err.response.data);\n        setPopup({\n          open: true,\n          severity: \"error\",\n          message: \"Error\",\n        });\n      });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{ padding: \"30px\", minHeight: \"93vh\" }}\n    >\n      <Grid item>\n        <Typography variant=\"h2\">Applications</Typography>\n      </Grid>\n      <Grid\n        container\n        item\n        xs\n        direction=\"column\"\n        style={{ width: \"100%\" }}\n        alignItems=\"stretch\"\n        justify=\"center\"\n      >\n        {applications.length > 0 ? (\n          applications.map((obj) => (\n            <Grid item>\n              <ApplicationTile application={obj} />\n            </Grid>\n          ))\n        ) : (\n          <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\n            No Applications Found\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Applications;\n"]},"metadata":{},"sourceType":"module"}